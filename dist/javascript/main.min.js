var FluidL={Views:{},Models:{}};!function(app){"use strict";var Events=function(){this.subscriptions={}};Events.prototype={subscribe:function(eventName,callback){this.subscriptions[eventName]||(this.subscriptions[eventName]=[]),this.subscriptions[eventName].push(callback)},publish:function(eventName,data){this.subscriptions[eventName]&&this.subscriptions[eventName].forEach(function(callback){callback(data)})}},app.Models.Events=Events}(FluidL),function(app){"use strict";var BoxView=function(options){app.Views.CoreView.call(this,options),this.id=options.id,this.gridIndex=options.gridIndex,this.isLast=options.isLast||!1,this.previous=options.previous||null,this.next=options.next||null};BoxView.prototype=Object.create(app.Views.CoreView.prototype),BoxView.prototype.addEventListeners=function(){},BoxView.prototype.getTemplate=function(){var gridIndexClass=this.getGridIndexClass(),boxWrapper=document.createElement("div");boxWrapper.className="box-wrapper "+gridIndexClass;var box=document.createElement("div");return box.className="box",box.innerText=this.id,boxWrapper.appendChild(box),boxWrapper},BoxView.prototype.getGridIndexClass=function(){var giClass="";switch(this.gridIndex){case 0:giClass="col-6-6";break;case 1:case 2:case 3:giClass="col-2-6";break;case 4:case 5:giClass="col-3-6"}return giClass},app.Views.BoxView=BoxView}(FluidL),function(app){"use strict";var ContentView=function(options){app.Views.CoreView.call(this,options),this.boxes=[],this.totalBoxes=0};ContentView.prototype=Object.create(app.Views.CoreView.prototype),ContentView.prototype.initialize=function(){this.addBox(),this.addBox(),this.addBox(),this.addBox(),this.addBox(),this.addBox(),this.addBox(),this.addBox(),this.addBox(),this.addBox(),this.addBox(),this.addBox(),this.addBox(),this.addEventListeners()},ContentView.prototype.addEventListeners=function(){this.addListener(".box-wrapper","mouseenter",this.handleBoxOver.bind(this)),this.addListener(".box-wrapper","mouseleave",this.handleBoxOut.bind(this))},ContentView.prototype.handleBoxOver=function(){console.log("inner says: box is hovered!"),this.element.style.border="15px solid black",this.appEvents.publish("box-over")},ContentView.prototype.handleBoxOut=function(){console.log("inner says: box out!"),this.element.style.border="none",this.appEvents.publish("box-out")},ContentView.prototype.addBox=function(position){this.totalBoxes++;var toPosition=position?position:this.boxes.length,gridIndex=this.calculateGridIndex(toPosition),boxView=new app.Views.BoxView({id:this.totalBoxes,gridIndex:gridIndex});this.boxes.splice(toPosition,0,boxView),console.log(this.boxes),this.element.appendChild(boxView.getTemplate())},ContentView.prototype.calculateGridIndex=function(position){return(position+1)%6},app.Views.ContentView=ContentView}(FluidL),function(app){"use strict";var CoreView=function(options){this.element=options.element||null,this.appEvents=options.appEvents||null};CoreView.prototype.getTemplate=function(){return""},CoreView.prototype.addEventListeners=function(){},CoreView.prototype.addListener=function(selector,eventName,callback){var cleanSelector=selector.substring(1);switch(selector.charAt(0)){case"#":this.addListenerById(cleanSelector,eventName,callback);break;case".":this.addListenerByClass(cleanSelector,eventName,callback)}},CoreView.prototype.addListenerById=function(elementId,eventName,callback){var element=document.getElementById(elementId);element&&element.addEventListener(eventName,function(){callback()},!1)},CoreView.prototype.addListenerByClass=function(className,eventName,callback){var elements=document.getElementsByClassName(className);if(elements.length)for(var nbrElements=elements.length,i=0;nbrElements>i;i++)elements[i].addEventListener(eventName,function(){callback()},!1)},app.Views.CoreView=CoreView}(FluidL),function(app){"use strict";var MainContainerView=function(options){app.Views.CoreView.call(this,options)};MainContainerView.prototype=Object.create(app.Views.CoreView.prototype),MainContainerView.prototype.addEventListeners=function(){this.appEvents.subscribe("box-over",this.handleBoxOver.bind(this)),this.appEvents.subscribe("box-out",this.handleBoxOut.bind(this))},MainContainerView.prototype.handleBoxOver=function(){console.log("main says: box is hovered!"),this.element.style.border="10px solid black"},MainContainerView.prototype.handleBoxOut=function(){console.log("main says: box is hovered!"),this.element.style.border="none"},app.Views.MainContainerView=MainContainerView}(FluidL);